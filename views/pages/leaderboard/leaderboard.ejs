<div id="leaderboard" v-cloak >

<div class="container">
    <h1>Leaderboard</h1>
    <p> Here should be a chart</p>

    <table class="table table-striped table-dark">
        <thead>
            <tr>
                <th v-if="sortedbyDCS">THE BEST</th>
                <th v-else>THE WORST</th>
                <th>Username</th>
                <th
                    class="sortBy"
                    @click="sortData('portfolioData[0].totalProfit')"
                    > Profit $ &#8597;
                </th>
                <th
                    class="sortBy"
                    @click="sortData('portfolioData[0].totalProfitInPercent')"
                    >Profit % &#8597;
                </th>
            </tr>
        </thead>
        <tbody>
            <tr v-for="(data,index) in leaderboardData" :key="index">
                <td v-bind:class="rowClass(index)"
                > {{index +1}}
                </td>
                <td> {{data.username }}</td>
                <td
                    v-bind:style="{ color: data.portfolioData[0].totalProfit >= 0 ? 'green' : 'red' }"
                    > {{data.portfolioData[0].totalProfit }}$
                </td>
                <td
                    v-bind:style="{ color: data.portfolioData[0].totalProfitInPercent >= 0 ? 'green' : 'red' }"
                    > {{data.portfolioData[0].totalProfitInPercent }}%
                </td>
            </tr>
        </tbody>
    </table>
    <div v-if="loading" class="text-center">
        <div class="spinner-border text-secondary " role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
</div>
</div>

<style>
    .sortBy:hover{ background: rgba(255, 0, 113, 0.3)
    }
</style>
